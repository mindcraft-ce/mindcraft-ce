<!DOCTYPE html>
<html>
<head>
    <title>MindCraft-CE Settings</title>
    <style>        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #1e1e1e;
            color: #e0e0e0;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        #titlebar {
            height: 32px;
            background: #2b2b2b;
            -webkit-app-region: drag;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 8px;
            flex-shrink: 0;
        }

        #title {
            color: #e0e0e0;
            font-size: 12px;
            margin-left: 8px;
        }

        #window-controls {
            display: flex;
            -webkit-app-region: no-drag;
        }

        .window-control {
            width: 46px;
            height: 32px;
            background: transparent;
            border: none;
            color: #e0e0e0;
            font-size: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .window-control:hover {
            background: rgba(255,255,255,0.1);
        }

        #close-button:hover {
            background: #e81123;
        }        .container {
            flex: 1;
            width: 90%; /* Reduced from 95% */
            height: calc(100% - 52px); /* Account for titlebar */
            margin: 10px auto; /* Already centered */
            background-color: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
            position: relative;
            min-height: calc(100vh - 100px);
            padding-bottom: 80px; /* Space for buttons */
        }
        .container::-webkit-scrollbar {
            display: none; /* Chrome, Safari and Opera */
        }
        h1 {
            color: #00b4d8;
            margin-bottom: 20px;
        }        .setting-group {
            margin-bottom: 10px;
            border: 1px solid #404040;
            border-radius: 4px;
            background-color: #363636;
            overflow: hidden;
        }
        .setting-group summary {
            padding: 15px;
            background-color: #2b2b2b;
            color: #90e0ef;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s;
        }
        .setting-group summary:hover {
            background-color: #323232;
        }
        .setting-group summary:focus {
            outline: none;
            background-color: #323232;
        }
        .setting-group .settings-content {
            padding: 15px;
        }
        .setting-item {
            margin-bottom: 15px;
        }
        .setting-group summary::marker,
        .setting-group summary::-webkit-details-marker {
            color: #90e0ef;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #e0e0e0;
        }        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #404040;
            border-radius: 4px;
            box-sizing: border-box;
            background-color: #1e1e1e;
            color: #e0e0e0;
        }
        select[multiple] {
            height: 200px;
            padding: 5px;
        }
        select[multiple] option {
            padding: 5px;
            margin-bottom: 2px;
            border-radius: 2px;
        }
        select[multiple] option:checked {
            background-color: #00b4d8;
            color: white;
        }
        select[multiple] option:hover {
            background-color: #363636;
        }
        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: #00b4d8;
            box-shadow: 0 0 0 2px rgba(0, 180, 216, 0.2);
        }
        input::placeholder {
            color: #666;
            opacity: 1;
        }
        [title] {
            position: relative;
            cursor: help;
        }
        [title]:hover::after {
            content: attr(title);
            position: absolute;
            bottom: 100%;
            left: 0;
            background: #00b4d8;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            white-space: nowrap;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        input[type="checkbox"] {
            margin-right: 5px;
            accent-color: #00b4d8;
        }
        .button-container {
            margin-top: 20px;
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 10px;
            position: sticky;
            bottom: 20px;
            background: #2d2d2d;
            padding: 10px;
            border-radius: 8px;
            width: 52.5%;
            margin-left: auto;
            margin-right: auto;
        }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        #startButton {
            background-color: #2ecc71;
            color: white;
        }
        #startButton:hover {
            background-color: #27ae60;
        }
        #stopButton {
            background-color: #e74c3c;
            color: white;
        }
        #stopButton:hover {
            background-color: #c0392b;
        }
        #resetButton {
            background-color: #424242;
            color: white;
        }
        #resetButton:hover {
            background-color: #323232;
        }        .status {
            margin-top: 20px;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
        }
        .success {
            background-color: rgba(0, 180, 216, 0.2);
            color: #90e0ef;
            border: 1px solid #00b4d8;
        }
        .error {
            background-color: rgba(220, 53, 69, 0.2);
            color: #ff758f;
            border: 1px solid #dc3545;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #2d2d2d;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #404040;
            width: 80%;
            max-width: 500px;
            border-radius: 4px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #e0e0e0;
        }

        #addProfile, #deleteProfile {
            background-color: #00b4d8; /* azul */
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            min-width: 120px;
            transition: background-color 0.3s ease;
        }

        #addProfile:hover, #deleteProfile:hover {
            background-color: #009bb3; /* azul más oscuro */
        }

        .button-group {
            display: flex;
            gap: 10px; /* espacio entre botones */
            justify-content: center; /* o center, o space-between según quieras */
            align-items: center;
}



    </style>
</head>
<body>
    <div id="titlebar">
        <div id="title">MindCraft-CE Settings</div>
        <div id="window-controls">
            <button class="window-control" id="minimize-button">─</button>
            <button class="window-control" id="maximize-button">□</button>
            <button class="window-control" id="close-button">✕</button>
        </div>
    </div>
    
    <div class="container">
        <details class="setting-group" open>
            <summary>Connection Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="minecraft_version" title="Supports up to 1.21.4">Minecraft Version:</label>
                    <input type="text" id="minecraft_version" />
                </div>
            <div class="setting-item">
                <label for="host" title="Use 'localhost' or your IP address">Host:</label>
                <input type="text" id="host" />
            </div>
            <div class="setting-item">
                <label for="port">Port:</label>
                <input type="number" id="port" />
            </div>
            <div class="setting-item">
                <label for="auth" title="Choose between offline or Microsoft authentication">Authentication:</label>
                <select id="auth">
                    <option value="offline">Offline</option>
                    <option value="microsoft">Microsoft</option>
                </select>
            </div>            </div>
        </details>

        <details class="setting-group">
            <summary>Mind Server Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="host_mindserver" title="If true, the mindserver will be hosted on this machine">Host Mind Server:</label>
                    <input type="checkbox" id="host_mindserver" />
            </div>
            <div class="setting-item">
                <label for="mindserver_host">Mind Server Host:</label>
                <input type="text" id="mindserver_host" />
            </div>
            <div class="setting-item">
                <label for="mindserver_port">Mind Server Port:</label>
                <input type="number" id="mindserver_port" />
            </div>
        </div>
        </details>

        <details class="setting-group">
            <summary>Profile Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="base_profile" title="Base profile shared by all bots">Base Profile:</label>
                    <select id="base_profile">
                        <option value="./profiles/defaults/survival.json">Survival</option>
                        <option value="./profiles/defaults/creative.json">Creative</option>
                        <option value="./profiles/defaults/god_mode.json">God Mode</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="profiles" title="Select multiple profiles. Using more than 1 requires messaging each bot individually">Profiles:</label>
                    <select id="profiles" multiple></select>
                </div>
                <!-- Add profile button -->
        <div class="setting-item">
            <div class="button-group">
                <button id="addProfile">Add Profile</button>
                <button id="deleteProfile">Delete Profile</button>
            </div>

        </div>

        <!-- Profile modal -->
        <div id="profileModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="profileModalTitle">Edit Profile</h2>
                <form id="profileForm">
                    <div class="setting-item">
                        <label for="profileName">Profile Name:</label>
                        <input type="text" id="profileName" required>
                    </div>
                    <div class="setting-item">
                        <label for="profileModel">Model:</label>
                        <input type="text" id="profileModel" required>
                    </div>
                    <div class="setting-item">
                        <label for="profileEmbedding">Embedding:</label>
                        <input type="text" id="profileEmbedding">
                    </div>
                    <div class="button-container">
                        <button type="button" id="saveProfile">Save</button>
                    </div>
                </form>
            </div>
        </div>

            </div>
        </details>

        <details class="setting-group">
            <summary>General Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="plugins" title="Add plugins, e.g. pre-installed plugin: Dance">Plugins:</label>
                    <input type="text" id="plugins" />
                </div>
                <div class="setting-item">
                    <label for="load_memory" title="Load memory from previous session">Load Memory:</label>
                    <input type="checkbox" id="load_memory" />
                </div>
                <div class="setting-item">
                    <label for="init_message" title="Message sent to all bots on spawn">Initial Message:</label>
                    <input type="text" id="init_message" />
                </div>
                <div class="setting-item">
                    <label for="only_chat_with" title="Users that bots listen to. If empty, chat publicly">Only Chat With:</label>
                    <input type="text" id="only_chat_with" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>Language & Display</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="language" title="Translate to/from this language">Language:</label>
                    <input type="text" id="language" />
                </div>
                <div class="setting-item">
                    <label for="show_bot_views" title="Show bot's view in browser">Show Bot Views:</label>
                    <input type="checkbox" id="show_bot_views" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>Security Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="allow_insecure_coding" title="Allows newAction command. Enable at own risk">Allow Insecure Coding:</label>
                    <input type="checkbox" id="allow_insecure_coding" />
                </div>
                <div class="setting-item">
                    <label for="allow_vision" title="Allows vision model to interpret screenshots">Allow Vision:</label>
                    <input type="checkbox" id="allow_vision" />
                </div>
                <div class="setting-item">
                    <label for="vision_mode">Vision Mode:</label>
                    <select id="vision_mode">
                        <option value="off">Off</option>
                        <option value="prompted">Prompted</option>
                        <option value="always">Always</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="blocked_actions" title="Commands to disable and remove from docs">Blocked Actions:</label>
                    <input type="text" id="blocked_actions" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>Performance Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="code_timeout_mins" title="Minutes code is allowed to run. -1 for no timeout">Code Timeout (mins):</label>
                    <input type="number" id="code_timeout_mins" />
                </div>
                <div class="setting-item">
                    <label for="relevant_docs_count" title="Number of relevant code function docs to select. -1 for all">Relevant Docs Count:</label>
                    <input type="number" id="relevant_docs_count" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>Chat Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="max_messages" title="Max number of messages to keep in context">Max Messages:</label>
                    <input type="number" id="max_messages" />
                </div>
                <div class="setting-item">
                    <label for="num_examples" title="Number of examples to give to the model">Number of Examples:</label>
                    <input type="number" id="num_examples" />
                </div>
                <div class="setting-item">
                    <label for="max_commands" title="Max commands in consecutive responses. -1 for no limit">Max Commands:</label>
                    <input type="number" id="max_commands" />
                </div>
                <div class="setting-item">
                    <label for="verbose_commands" title="Show full command syntax">Verbose Commands:</label>
                    <input type="checkbox" id="verbose_commands" />
                </div>
                <div class="setting-item">
                    <label for="narrate_behavior" title="Chat simple automatic actions">Narrate Behavior:</label>
                    <input type="checkbox" id="narrate_behavior" />
                </div>
                <div class="setting-item">
                    <label for="chat_bot_messages" title="Publicly chat messages to other bots">Chat Bot Messages:</label>
                    <input type="checkbox" id="chat_bot_messages" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>Speech Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="speak" title="Enable text-to-speech for all bots">Enable Speech:</label>
                    <input type="checkbox" id="speak" />
                </div>
                <div class="setting-item">
                    <label for="stt_transcription" title="Enable speech-to-text transcription">STT Transcription:</label>
                    <input type="checkbox" id="stt_transcription" />
                </div>
                <div class="setting-item">
                    <label for="stt_provider" title="Speech-to-text provider">STT Provider:</label>
                    <select id="stt_provider">
                        <option value="pollinations">Pollinations (Free)</option>
                        <option value="groq">Groq (API Key Required)</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="stt_username">STT Username:</label>
                    <input type="text" id="stt_username" />
                </div>
                <div class="setting-item">
                    <label for="stt_agent_name" title="If empty, sends STT to all bots">STT Agent Name:</label>
                    <input type="text" id="stt_agent_name" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>STT Audio Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="stt_rms_threshold" title="Audio level threshold">RMS Threshold:</label>
                    <input type="number" id="stt_rms_threshold" />
                </div>
                <div class="setting-item">
                    <label for="stt_silence_duration" title="Silence duration before stopping (ms)">Silence Duration (ms):</label>
                    <input type="number" id="stt_silence_duration" />
                </div>
                <div class="setting-item">
                    <label for="stt_min_audio_duration" title="Minimum audio duration in seconds">Min Audio Duration (s):</label>
                    <input type="number" id="stt_min_audio_duration" step="0.1" />
                </div>
                <div class="setting-item">
                    <label for="stt_max_audio_duration" title="Maximum audio duration in seconds">Max Audio Duration (s):</label>
                    <input type="number" id="stt_max_audio_duration" />
                </div>
                <div class="setting-item">
                    <label for="stt_debug_audio" title="Enable audio debugging">Debug Audio:</label>
                    <input type="checkbox" id="stt_debug_audio" />
                </div>
                <div class="setting-item">
                    <label for="stt_cooldown_ms" title="Minimum time between recordings (ms)">Cooldown (ms):</label>
                    <input type="number" id="stt_cooldown_ms" />
                </div>
                <div class="setting-item">
                    <label for="stt_speech_threshold_ratio" title="Speech detection threshold">Speech Threshold Ratio:</label>
                    <input type="number" id="stt_speech_threshold_ratio" step="0.01" />
                </div>
                <div class="setting-item">
                    <label for="stt_consecutive_speech_samples" title="Number of consecutive speech samples needed">Consecutive Speech Samples:</label>
                    <input type="number" id="stt_consecutive_speech_samples" />
                </div>
            </div>
        </details>

        <details class="setting-group">
            <summary>Logging Settings</summary>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="log_normal_data" title="Log all inputs/outputs without reasoning/vision data">Log Normal Data:</label>
                    <input type="checkbox" id="log_normal_data" />
                </div>
                <div class="setting-item">
                    <label for="log_reasoning_data" title="Log only reasoning inputs/outputs">Log Reasoning Data:</label>
                    <input type="checkbox" id="log_reasoning_data" />
                </div>
                <div class="setting-item">
                    <label for="log_vision_data" title="Log only vision inputs/outputs">Log Vision Data:</label>
                    <input type="checkbox" id="log_vision_data" />
                </div>
            </div>
        </details>

        

        <div class="button-container">
            <button id="stopButton">Stop</button>
            <button id="resetButton">Reset</button>
            <button id="startButton">Start</button>
        </div>

        <div id="status" class="status" style="display: none;"></div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
